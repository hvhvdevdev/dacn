(window.webpackJsonp=window.webpackJsonp||[]).push([[20,11],{618:function(e,t,n){"use strict";n.r(t);var o=n(281),r={name:"RichTextEditor",components:{TiptapVuetify:o.o},props:{value:{type:String,required:!1,default:function(){return""}},label:{type:String,required:!1,default:function(){return"Content"}}},emits:["input"],data:function(){return{extensions:[o.g,o.a,o.j,o.q,o.n,o.i,o.k,o.c,o.l,[o.f,{options:{levels:[1,2,3]}}],o.b,o.j,o.d,o.h,o.m,o.e]}}},l=n(137),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",[t("p",{staticClass:"v-label"},[e._v(e._s(e.label))]),e._v(" "),t("TiptapVuetify",{attrs:{extensions:e.extensions,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})],1)}),[],!1,null,"051710b4",null);t.default=component.exports},698:function(e,t,n){"use strict";n.r(t);var o=n(110),r=n(125),l=n(100),d=n(369),c=n(136),f=n(368),m=n(685),v=n(226),h=(n(6),n(48),n(22)),_=(n(85),n(101),n(37),n(13),{name:"Edit",data:function(){var e,t,n=this.$route.query.model,o=null===(e=this.$store.getters["models/getModels"])||void 0===e?void 0:e.find((function(e){return e.name===n})),r=this.$route.query.id;return{modelName:n,id:r,model:o,content:JSON.parse(JSON.stringify(null===(t=this.$store.getters["content/getEntries"][n])||void 0===t?void 0:t.find((function(e){return e[o.identifier]===r})))),loading:!1}},computed:{entries:function(){return this.$store.getters["content/getEntries"]},models:function(){return this.$store.getters["models/getModels"]}},methods:{updateEntry:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("content/editEntry",{model:e.modelName,id:e.id,idField:e.model.identifier,data:e.content});case 3:return e.$store.commit("setSnackbarContent","Entry updated successfully"),t.next=6,e.$router.push("/content");case 6:case"end":return t.stop()}}),t)})))()},getIdFieldOfModelName:function(e){return this.models.find((function(t){return t.name===e})).identifier}}}),x=n(137),component=Object(x.a)(_,(function(){var e=this,t=e._self._c;return e.model?t(f.a,{attrs:{justify:"center"}},[t(d.a,{attrs:{cols:"12"}},[t("h1",[e._v("Edit Content")])]),e._v(" "),t(d.a,{attrs:{cols:"12",sm:"10",md:"8"}},[t(r.a,[t(l.c,[e._v("Editing `"+e._s(e.id)+"` of `"+e._s(e.modelName)+"`")]),e._v(" "),t(l.b,[e._l(e.model.fields,(function(n){return t("div",{key:n.field},["select"===n.widget?t(m.a,{attrs:{label:n.field,items:e.entries[n.model],"item-text":e.getIdFieldOfModelName(n.model),"item-value":e.getIdFieldOfModelName(n.model)},model:{value:e.content[n.field],callback:function(t){e.$set(e.content,n.field,t)},expression:"content[field.field]"}}):"rich-text"===n.widget?t("RichTextEditor",{attrs:{label:n.field},model:{value:e.content[n.field],callback:function(t){e.$set(e.content,n.field,t)},expression:"content[field.field]"}}):t(v.a,{attrs:{label:n.field,type:"number"===n.widget?"number":"text"},model:{value:e.content[n.field],callback:function(t){e.$set(e.content,n.field,t)},expression:"content[field.field]"}})],1)})),e._v(" "),t(o.a,{attrs:{color:"primary",loading:e.loading},on:{click:e.updateEntry}},[t(c.a,{attrs:{left:""}},[e._v("mdi-content-save")]),e._v("\n          Save\n        ")],1)],2)],1)],1)],1):e._e()}),[],!1,null,"451cdb34",null);t.default=component.exports;installComponents(component,{RichTextEditor:n(618).default})}}]);